<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O'quvchi Paneli - Zamonaviy Dizayn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'bounce-gentle': 'bounceGentle 2s infinite',
                        'pulse-slow': 'pulse 3s infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                        'timer-pulse': 'timerPulse 1s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        bounceGentle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 5px rgba(59, 130, 246, 0.5)' },
                            '100%': { boxShadow: '0 0 20px rgba(59, 130, 246, 0.8)' },
                        },
                        timerPulse: {
                            '0%, 100%': { opacity: '1' },
                            '50%': { opacity: '0.7' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @media (max-width: 640px) {
            .mobile-hide {
                display: none;
            }
            .mobile-show {
                display: block;
            }
            .mobile-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
            }
            .mobile-text {
                font-size: 0.875rem;
            }
            .mobile-padding {
                padding: 1rem;
            }
        }
        
        @media (min-width: 641px) {
            .mobile-show {
                display: none;
            }
        }
        
        .glass {
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.95);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-14 sm:h-16">
                <!-- Logo and User Info -->
                <div class="flex items-center space-x-3 sm:space-x-4">
                    <div class="flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl shadow-lg animate-float">
                        <i class="fas fa-user-graduate text-white text-sm sm:text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-lg sm:text-xl font-bold text-gray-900">O'quvchi Paneli</h1>
                        <p class="text-xs sm:text-sm text-gray-500" id="studentName">Xush kelibsiz!</p>
                    </div>
                </div>

                <!-- User Stats and Actions -->
                <div class="flex items-center space-x-2 sm:space-x-4">
                    <!-- Notifications -->
                    <div class="relative">
                        <button onclick="toggleNotifications()" class="relative p-2 text-gray-600 hover:text-gray-800 transition-colors">
                            <i class="fas fa-bell text-sm sm:text-lg"></i>
                            <span id="notificationBadge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center hidden animate-bounce-gentle">0</span>
                        </button>
                        
                        <!-- Notification Dropdown -->
                        <div id="notificationDropdown" class="absolute right-0 mt-2 w-72 sm:w-80 bg-white/90 backdrop-blur-lg rounded-2xl shadow-xl border border-gray-200/50 hidden z-50">
                            <div class="p-4 border-b border-gray-200/50">
                                <h3 class="font-semibold text-gray-800">Bildirishnomalar</h3>
                            </div>
                            <div id="notificationList" class="max-h-64 overflow-y-auto">
                                <!-- Notifications will be loaded here -->
                            </div>
                            <div class="p-3 border-t border-gray-200/50">
                                <button onclick="markAllAsRead()" class="text-sm text-blue-600 hover:text-blue-800 transition-colors">Barchasini o'qilgan deb belgilash</button>
                            </div>
                        </div>
                    </div>

                    <!-- User Stats -->
                    <div class="text-right mobile-hide">
                        <div class="flex items-center space-x-2">
                            <div class="text-right">
                                <p class="text-xs text-gray-600">Reyting</p>
                                <p class="text-sm sm:text-lg font-bold text-blue-600" id="studentRating">0</p>
                            </div>
                            <div class="w-px h-6 sm:h-8 bg-gray-300"></div>
                            <div class="text-right">
                                <p class="text-xs text-gray-600">Balans</p>
                                <p class="text-xs sm:text-sm font-bold text-green-600" id="studentBalance">0 so'm</p>
                            </div>
                        </div>
                    </div>

                    <!-- Mobile User Stats -->
                    <div class="mobile-show text-right">
                        <p class="text-xs font-bold text-blue-600" id="studentRatingMobile">0 coin</p>
                        <p class="text-xs font-bold text-green-600" id="studentBalanceMobile">0 so'm</p>
                    </div>

                    <!-- Logout -->
                    <button onclick="logout()" class="inline-flex items-center px-3 sm:px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-xs sm:text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                        <i class="fas fa-sign-out-alt mr-1 sm:mr-2"></i>
                        <span class="mobile-hide">Chiqish</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8">
        <!-- Navigation Grid -->
        <div class="grid mobile-grid sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 mb-6 sm:mb-8">
            <!-- Vazifalar -->
            <div onclick="showTab('tasks')" id="tasksCard" class="group cursor-pointer card-hover">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 sm:p-6 text-white shadow-xl hover:shadow-2xl transition-all duration-300">
                    <div class="flex flex-col items-center text-center space-y-2 sm:space-y-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-colors duration-200">
                            <i class="fas fa-tasks text-lg sm:text-2xl"></i>
                        </div>
                        <h3 class="font-semibold text-sm sm:text-lg">Vazifalar</h3>
                        <div class="w-full h-1 bg-white/20 rounded-full overflow-hidden">
                            <div class="h-full bg-white/40 rounded-full transform scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Testlar -->
            <div onclick="showTab('tests')" id="testsCard" class="group cursor-pointer card-hover">
                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-2 sm:space-y-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-green-100 transition-colors duration-200">
                            <i class="fas fa-clipboard-check text-lg sm:text-2xl text-gray-600 group-hover:text-green-600"></i>
                        </div>
                        <h3 class="font-semibold text-sm sm:text-lg text-gray-800">Testlar</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-green-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Loyihalar -->
            <div onclick="showTab('projects')" id="projectsCard" class="group cursor-pointer card-hover">
                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-2 sm:space-y-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-purple-100 transition-colors duration-200">
                            <i class="fas fa-project-diagram text-lg sm:text-2xl text-gray-600 group-hover:text-purple-600"></i>
                        </div>
                        <h3 class="font-semibold text-sm sm:text-lg text-gray-800">Loyihalar</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-purple-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat -->
            <div onclick="showTab('chat')" id="chatCard" class="group cursor-pointer card-hover">
                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-2 sm:space-y-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-pink-100 transition-colors duration-200">
                            <i class="fas fa-comments text-lg sm:text-2xl text-gray-600 group-hover:text-pink-600"></i>
                        </div>
                        <h3 class="font-semibold text-sm sm:text-lg text-gray-800">Chat</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-pink-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reyting -->
            <div onclick="showTab('leaderboard')" id="leaderboardCard" class="group cursor-pointer card-hover">
                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-2 sm:space-y-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-yellow-100 transition-colors duration-200">
                            <i class="fas fa-trophy text-lg sm:text-2xl text-gray-600 group-hover:text-yellow-600"></i>
                        </div>
                        <h3 class="font-semibold text-sm sm:text-lg text-gray-800">Reyting</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-yellow-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Hamyon -->
            <div onclick="showTab('wallet')" id="walletCard" class="group cursor-pointer card-hover">
                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-2 sm:space-y-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-emerald-100 transition-colors duration-200">
                            <i class="fas fa-wallet text-lg sm:text-2xl text-gray-600 group-hover:text-emerald-600"></i>
                        </div>
                        <h3 class="font-semibold text-sm sm:text-lg text-gray-800">Hamyon</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-emerald-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Haqida -->
            <div onclick="showTab('about')" id="aboutCard" class="group cursor-pointer card-hover">
                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-2 sm:space-y-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-gray-200 transition-colors duration-200">
                            <i class="fas fa-info-circle text-lg sm:text-2xl text-gray-600"></i>
                        </div>
                        <h3 class="font-semibold text-sm sm:text-lg text-gray-800">Haqida</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-gray-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Referal -->
            <div onclick="showTab('referral')" id="referralCard" class="group cursor-pointer card-hover">
                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-2 sm:space-y-3">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-emerald-100 transition-colors duration-200">
                            <i class="fas fa-users text-lg sm:text-2xl text-gray-600 group-hover:text-emerald-600"></i>
                        </div>
                        <h3 class="font-semibold text-sm sm:text-lg text-gray-800">Referal</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-emerald-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Area -->
        <div class="animate-fade-in">
            <!-- Tasks Content -->
            <div id="tasksContent" class="tab-content">
                <div class="glass rounded-3xl shadow-xl border border-gray-200/50 p-4 sm:p-6 lg:p-8">
                    <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-4">
                        <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900">Mening Vazifalarim</h2>
                        <div class="flex items-center space-x-2">
                            <div class="w-3 h-3 bg-blue-400 rounded-full animate-bounce-gentle"></div>
                            <span class="text-sm text-gray-600">Jonli ma'lumotlar</span>
                        </div>
                    </div>
                    <div id="tasksList" class="space-y-4">
                        <!-- Tasks will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Tests Content -->
            <div id="testsContent" class="tab-content hidden">
                <div class="glass rounded-3xl shadow-xl border border-gray-200/50 p-4 sm:p-6 lg:p-8">
                    <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-4 sm:mb-6">Mavjud Testlar</h2>
                    <div id="testsList" class="space-y-4">
                        <!-- Tests will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Projects Content -->
            <div id="projectsContent" class="tab-content hidden">
                <div class="glass rounded-3xl shadow-xl border border-gray-200/50 p-4 sm:p-6 lg:p-8">
                    <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-4 sm:mb-6">Loyihalar</h2>
                    <div id="projectsList" class="space-y-4">
                        <!-- Projects will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Chat Content -->
            <div id="chatContent" class="tab-content hidden">
                <div class="glass rounded-3xl shadow-xl border border-gray-200/50 p-4 sm:p-6 lg:p-8">
                    <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center">
                        <i class="fas fa-comments text-pink-500 mr-3"></i>
                        Chat
                    </h2>
                    <div class="bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl p-4 h-64 sm:h-96 overflow-y-auto mb-4 sm:mb-6 border border-gray-100" id="chatMessages">
                        <!-- Chat messages will be loaded here -->
                    </div>
                    <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3">
                        <input type="text" id="chatInput" class="flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Xabar yozing...">
                        <input type="file" id="imageInput" accept="image/*" class="hidden">
                        <div class="flex space-x-2">
                            <button onclick="document.getElementById('imageInput').click()" class="px-4 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                <i class="fas fa-image"></i>
                            </button>
                            <button onclick="sendMessage()" class="px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Leaderboard Content -->
            <div id="leaderboardContent" class="tab-content hidden">
                <div class="glass rounded-3xl shadow-xl border border-gray-200/50 p-4 sm:p-6 lg:p-8">
                    <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center">
                        <i class="fas fa-trophy text-yellow-500 mr-3"></i>
                        Reyting Jadvali
                    </h2>
                    <div id="leaderboardList" class="space-y-3">
                        <!-- Leaderboard will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Wallet Content -->
            <div id="walletContent" class="tab-content hidden">
                <div class="glass rounded-3xl shadow-xl border border-gray-200/50 p-4 sm:p-6 lg:p-8">
                    <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center">
                        <i class="fas fa-wallet text-emerald-500 mr-3"></i>
                        Hamyon
                    </h2>
                    <div class="grid grid-cols-1 xl:grid-cols-2 gap-6 sm:gap-8">
                        <div class="bg-gradient-to-br from-emerald-50 to-blue-50 rounded-2xl p-4 sm:p-6 border border-emerald-100 text-center">
                            <div class="text-xl sm:text-2xl font-bold text-blue-600 mb-1" id="walletCoins">0 coin</div>
                            <div class="text-2xl sm:text-3xl font-bold text-green-600 mb-2" id="walletBalance">0 so'm</div>
                            <p class="text-gray-600 mb-4">Mavjud balans</p>
                            <button onclick="showWithdrawalModal()" class="inline-flex items-center px-4 sm:px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                <i class="fas fa-download mr-2"></i>
                                Pul yechish
                            </button>
                        </div>
                        <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-4 sm:p-6 border border-purple-100">
                            <h3 class="text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-history text-purple-500 mr-3"></i>
                                To'lov tarixi
                            </h3>
                            <div id="paymentHistory" class="space-y-3 max-h-64 overflow-y-auto">
                                <!-- Payment history will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- About Content -->
            <div id="aboutContent" class="tab-content hidden">
                <div class="glass rounded-3xl shadow-xl border border-gray-200/50 p-4 sm:p-6 lg:p-8">
                    <div class="text-center py-8 sm:py-12">
                        <div class="max-w-4xl mx-auto">
                            <div class="mb-8">
                                <div class="w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl animate-float">
                                    <i class="fas fa-graduation-cap text-2xl sm:text-3xl text-white"></i>
                                </div>
                                <h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-4">O'quvchilar Baholash Tizimi</h2>
                                <p class="text-lg sm:text-xl text-gray-600 mb-8">
                                    Zamonaviy freelancer va ta'lim tizimi - o'quvchilar uchun vazifa, test va loyihalar
                                </p>
                            </div>
                            
                            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 sm:p-8 mb-8 border border-blue-100">
                                <h3 class="text-xl sm:text-2xl font-semibold text-gray-900 mb-3">Yaratuvchi</h3>
                                <p class="text-xl sm:text-2xl font-medium text-blue-600 mb-2">Shoimov Shuxrat</p>
                                <p class="text-gray-600">Professional dasturchi va ta'lim sohasidagi innovator</p>
                            </div>
                            
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-8">
                                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
                                    <div class="w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                                        <i class="fas fa-tasks text-xl sm:text-2xl text-blue-600"></i>
                                    </div>
                                    <h4 class="font-semibold text-gray-900 mb-2">Vazifalar tizimi</h4>
                                    <p class="text-gray-600 mb-3 text-sm sm:text-base">O'quvchilarga vazifalar berish va baholash</p>
                                    <div class="text-xs sm:text-sm text-gray-500 space-y-1">
                                        <p>• Uyga vazifa: admin tomonidan ball beriladi</p>
                                        <p>• Vazifa jarima: <span class="font-semibold text-red-600">20 coin</span></p>
                                        <p>• Real-time timer va deadline tracking</p>
                                    </div>
                                </div>
                                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
                                    <div class="w-12 h-12 sm:w-16 sm:h-16 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                                        <i class="fas fa-clipboard-check text-xl sm:text-2xl text-green-600"></i>
                                    </div>
                                    <h4 class="font-semibold text-gray-900 mb-2">Davomat tizimi</h4>
                                    <p class="text-gray-600 mb-3 text-sm sm:text-base">Avtomatik davomat nazorati va jarimalar</p>
                                    <div class="text-xs sm:text-sm text-gray-500 space-y-1">
                                        <p>• Darsga kirmasa: <span class="font-semibold text-red-600">500 coin</span> jarima</p>
                                        <p>• Kech kirsa: <span class="font-semibold text-orange-600">100 coin</span> jarima</p>
                                    </div>
                                </div>
                                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
                                    <div class="w-12 h-12 sm:w-16 sm:h-16 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                                        <i class="fas fa-project-diagram text-xl sm:text-2xl text-purple-600"></i>
                                    </div>
                                    <h4 class="font-semibold text-gray-900 mb-2">Freelancer tizim</h4>
                                    <p class="text-gray-600 mb-3 text-sm sm:text-base">Loyihalar orqali daromad topish</p>
                                    <div class="text-xs sm:text-sm text-gray-500 space-y-1">
                                        <p>• Loyiha: admin tomonidan belgilanadi</p>
                                        <p>• Timer bilan deadline tracking</p>
                                    </div>
                                </div>
                                <div class="bg-white rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
                                    <div class="w-12 h-12 sm:w-16 sm:h-16 bg-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-4">
                                        <i class="fas fa-users text-xl sm:text-2xl text-emerald-600"></i>
                                    </div>
                                    <h4 class="font-semibold text-gray-900 mb-2">Referal tizim</h4>
                                    <p class="text-gray-600 mb-3 text-sm sm:text-base">Yangi o'quvchi taklif qilish orqali coin yutish</p>
                                    <div class="text-xs sm:text-sm text-gray-500 space-y-1">
                                        <p>• Yangi o'quvchi: <span class="font-semibold text-emerald-600">20,000 coin</span></p>
                                        <p class="text-xs mt-2">Sizning referal kodingiz: <span class="font-mono bg-gray-100 px-2 py-1 rounded text-emerald-600" id="userReferralCode">LOADING...</span></p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="text-gray-500">
                                <p>Versiya 4.0 | © 2024 Shoimov Shuxrat</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Referral Content -->
            <div id="referralContent" class="tab-content hidden">
                <div class="glass rounded-3xl shadow-xl border border-gray-200/50 p-4 sm:p-6 lg:p-8">
                    <h2 class="text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 mb-4 sm:mb-6 flex items-center">
                        <i class="fas fa-users text-emerald-500 mr-3"></i>
                        Referal Tizimi
                    </h2>
                    <div class="grid grid-cols-1 xl:grid-cols-2 gap-6 sm:gap-8">
                        <div class="bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl p-4 sm:p-6 border border-emerald-100">
                            <h3 class="text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-share text-emerald-500 mr-3"></i>
                                Sizning Referal Kodingiz
                            </h3>
                            <div class="bg-white rounded-xl p-4 border-2 border-dashed border-emerald-200 text-center">
                                <div class="text-xl sm:text-2xl font-mono font-bold text-emerald-600 mb-2" id="myReferralCode">LOADING...</div>
                                <p class="text-sm text-gray-600 mb-4">Bu kodni do'stlaringizga ulashing</p>
                                <button onclick="copyReferralCode()" class="px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                    <i class="fas fa-copy mr-2"></i>Nusxalash
                                </button>
                            </div>
                            <div class="mt-4 p-4 bg-emerald-100 rounded-xl">
                                <h4 class="font-semibold text-emerald-800 mb-2">Qanday ishlaydi?</h4>
                                <ul class="text-sm text-emerald-700 space-y-1">
                                    <li>• Do'stlaringizga referal kodingizni bering</li>
                                    <li>• Ular ro'yxatdan o'tishda kodingizni kiritsin</li>
                                    <li>• Admin tasdiqlashidan keyin <span class="font-bold">20,000 coin</span> oling!</li>
                                </ul>
                            </div>
                        </div>
                        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-4 sm:p-6 border border-blue-100">
                            <h3 class="text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-history text-blue-500 mr-3"></i>
                                Referal Tarixi
                            </h3>
                            <div id="referralHistory" class="space-y-3 max-h-64 overflow-y-auto">
                                <!-- Referral history will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <!-- Task Modal -->
    <div id="taskModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl w-full max-w-6xl max-h-[90vh] overflow-y-auto shadow-2xl">
            <div class="sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6 rounded-t-3xl">
                <div class="flex justify-between items-center">
                    <h3 class="text-lg sm:text-xl font-bold text-gray-900" id="modalTaskTitle">Vazifa</h3>
                    <button onclick="closeTaskModal()" class="text-gray-400 hover:text-gray-600 transition-colors p-2">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <div class="p-4 sm:p-6">
                <p id="modalTaskDescription" class="text-gray-700 mb-6"></p>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">HTML Kodi</label>
                        <textarea id="htmlCode" class="w-full h-32 px-4 py-3 border border-gray-300 rounded-xl font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="HTML kodingizni kiriting..."></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">CSS Kodi</label>
                        <textarea id="cssCode" class="w-full h-32 px-4 py-3 border border-gray-300 rounded-xl font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="CSS kodingizni kiriting..."></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">JavaScript Kodi</label>
                        <textarea id="jsCode" class="w-full h-32 px-4 py-3 border border-gray-300 rounded-xl font-mono text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="JavaScript kodingizni kiriting..."></textarea>
                    </div>
                </div>
                <div class="mt-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Sayt URL (ixtiyoriy)</label>
                    <input type="url" id="taskWebsiteUrl" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://your-website.com">
                    <p class="text-xs text-gray-500 mt-1">Agar siz sayt yaratgan bo'lsangiz, uning URL manzilini kiriting</p>
                </div>
            </div>
            <div class="sticky bottom-0 bg-white border-t border-gray-200 p-4 sm:p-6 rounded-b-3xl">
                <div class="flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3">
                    <button onclick="closeTaskModal()" class="px-6 py-3 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors">Bekor qilish</button>
                    <button onclick="submitTask()" class="px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">Topshirish</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Test Modal -->
    <div id="testModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl">
            <div class="sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6 rounded-t-3xl">
                <div class="flex justify-between items-center">
                    <h3 class="text-lg sm:text-xl font-bold text-gray-900" id="modalTestTitle">Test</h3>
                    <button onclick="closeTestModal()" class="text-gray-400 hover:text-gray-600 transition-colors p-2">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <div class="p-4 sm:p-6">
                <div id="testQuestions" class="space-y-6">
                    <!-- Test questions will be loaded here -->
                </div>
            </div>
            <div class="sticky bottom-0 bg-white border-t border-gray-200 p-4 sm:p-6 rounded-b-3xl">
                <div class="flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3">
                    <button onclick="closeTestModal()" class="px-6 py-3 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors">Bekor qilish</button>
                    <button onclick="submitTest()" class="px-6 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">Testni yakunlash</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Project Modal -->
    <div id="projectModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl w-full max-w-md shadow-2xl">
            <div class="p-4 sm:p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-gray-900">Loyiha URL topshirish</h3>
                    <button onclick="closeProjectModal()" class="text-gray-400 hover:text-gray-600 transition-colors p-2">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2" id="projectModalTitle">Loyiha:</label>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Website URL</label>
                        <input type="url" id="projectUrl" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="https://your-website.com">
                    </div>
                    <div class="flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4">
                        <button onclick="closeProjectModal()" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors">Bekor qilish</button>
                        <button onclick="submitProjectUrl()" class="px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">Topshirish</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Withdrawal Modal -->
    <div id="withdrawalModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl w-full max-w-md shadow-2xl">
            <div class="p-4 sm:p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-gray-900">Pul yechish</h3>
                    <button onclick="closeWithdrawalModal()" class="text-gray-400 hover:text-gray-600 transition-colors p-2">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Coin miqdori</label>
                        <input type="number" id="withdrawalCoins" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" min="1000" step="100" placeholder="Minimal: 1000 coin">
                        <p class="text-sm text-gray-600 mt-1">1 coin = 10 so'm</p>
                        <div id="withdrawalAmount" class="text-lg font-bold text-green-600 mt-2"></div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">To'lov usuli</label>
                        <select id="withdrawalMethod" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="HUMO">HUMO</option>
                            <option value="UZCARD">UZCARD</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Karta raqami</label>
                        <input type="text" id="withdrawalCardNumber" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="1234 5678 9012 3456" maxlength="19">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Parolni tasdiqlang</label>
                        <input type="password" id="withdrawalPassword" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Parolingizni kiriting">
                    </div>
                    <div class="flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4">
                        <button onclick="closeWithdrawalModal()" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors">Bekor qilish</button>
                        <button onclick="submitWithdrawal()" class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">So'rov yuborish</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include existing JavaScript -->
    <script type="module" src="js/student-dashboard.js"></script>
    
    <script>
        // Enhanced tab switching with animations
        function showTab(tabName) {
            // Hide all content with fade out
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });

            // Reset all cards
            document.querySelectorAll('[id$="Card"]').forEach(card => {
                const cardDiv = card.querySelector('div');
                cardDiv.className = 'bg-white rounded-2xl p-4 sm:p-6 shadow-xl hover:shadow-2xl transition-all duration-300 border border-gray-100';
                
                const icon = card.querySelector('i');
                icon.classList.remove('text-white');
                icon.classList.add('text-gray-600');
                
                const iconBg = card.querySelector('.w-10, .w-12');
                if (iconBg) {
                    iconBg.classList.remove('bg-white/20', 'bg-white/30');
                    iconBg.classList.add('bg-gray-100');
                }
                
                const title = card.querySelector('h3');
                title.classList.remove('text-white');
                title.classList.add('text-gray-800');
                
                const progressBar = card.querySelector('.w-full .h-full');
                if (progressBar) {
                    progressBar.classList.remove('scale-x-100');
                    progressBar.classList.add('scale-x-0');
                }
            });

            // Activate selected card
            const activeCard = document.getElementById(tabName + 'Card');
            if (activeCard) {
                const cardDiv = activeCard.querySelector('div');
                cardDiv.className = 'bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-4 sm:p-6 text-white shadow-xl hover:shadow-2xl transition-all duration-300';
                
                const icon = activeCard.querySelector('i');
                icon.classList.remove('text-gray-600');
                icon.classList.add('text-white');
                
                const iconBg = activeCard.querySelector('.w-10, .w-12');
                if (iconBg) {
                    iconBg.classList.remove('bg-gray-100');
                    iconBg.classList.add('bg-white/20');
                }
                
                const title = activeCard.querySelector('h3');
                title.classList.remove('text-gray-800');
                title.classList.add('text-white');
                
                const progressBar = activeCard.querySelector('.w-full .h-full');
                if (progressBar) {
                    progressBar.classList.remove('scale-x-0');
                    progressBar.classList.add('scale-x-100');
                }
            }

            // Show selected content with fade in
            const content = document.getElementById(tabName + 'Content');
            if (content) {
                setTimeout(() => {
                    content.classList.remove('hidden');
                    content.classList.add('animate-fade-in');
                }, 100);
            }
        }

        // Update mobile stats display
        function updateMobileStats() {
            const rating = document.getElementById('studentRating').textContent;
            const balance = document.getElementById('studentBalance').textContent;
            if (document.getElementById('studentRatingMobile')) {
                document.getElementById('studentRatingMobile').textContent = rating + ' coin';
            }
            if (document.getElementById('studentBalanceMobile')) {
                document.getElementById('studentBalanceMobile').textContent = balance;
            }
        }

        // Initialize with tasks tab
        document.addEventListener('DOMContentLoaded', () => {
            showTab('tasks');
            // Update mobile stats periodically
            setInterval(updateMobileStats, 1000);
        });

        // Add smooth scrolling for better UX
        document.documentElement.style.scrollBehavior = 'smooth';

        // Make functions global
        window.showTab = showTab;
        window.updateMobileStats = updateMobileStats;
    </script>
</body>
</html>