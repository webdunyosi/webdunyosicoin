<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Paneli - Zamonaviy Dizayn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'bounce-gentle': 'bounceGentle 2s infinite',
                        'pulse-slow': 'pulse 3s infinite',
                        'float': 'float 3s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        bounceGentle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo and Title -->
                <div class="flex items-center space-x-4">
                    <div class="flex items-center justify-center w-10 h-10 bg-gradient-to-r from-red-500 to-red-600 rounded-xl shadow-lg animate-float">
                        <i class="fas fa-user-shield text-white text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-900">Admin Paneli</h1>
                        <p class="text-sm text-gray-500">Tizim boshqaruvi</p>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex items-center space-x-3">
                    <button onclick="exportDatabase()" class="inline-flex items-center px-4 py-2 bg-green-500 hover:bg-green-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                        <i class="fas fa-download mr-2"></i>
                        <span class="hidden sm:inline">Eksport</span>
                    </button>
                    <button onclick="logout()" class="inline-flex items-center px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                        <i class="fas fa-sign-out-alt mr-2"></i>
                        <span class="hidden sm:inline">Chiqish</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Navigation Grid -->
        <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6 mb-8">
            <!-- O'quvchilar -->
            <div onclick="showTab('students')" id="studentsCard" class="group cursor-pointer">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1">
                    <div class="flex flex-col items-center text-center space-y-3">
                        <div class="w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center group-hover:bg-white/30 transition-colors duration-200">
                            <i class="fas fa-users text-2xl"></i>
                        </div>
                        <h3 class="font-semibold text-lg">O'quvchilar</h3>
                        <div class="w-full h-1 bg-white/20 rounded-full overflow-hidden">
                            <div class="h-full bg-white/40 rounded-full transform scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vazifalar -->
            <div onclick="showTab('tasks')" id="tasksCard" class="group cursor-pointer">
                <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-3">
                        <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-blue-100 transition-colors duration-200">
                            <i class="fas fa-tasks text-2xl text-gray-600 group-hover:text-blue-600"></i>
                        </div>
                        <h3 class="font-semibold text-lg text-gray-800">Vazifalar</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-blue-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Testlar -->
            <div onclick="showTab('tests')" id="testsCard" class="group cursor-pointer">
                <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-3">
                        <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-green-100 transition-colors duration-200">
                            <i class="fas fa-clipboard-check text-2xl text-gray-600 group-hover:text-green-600"></i>
                        </div>
                        <h3 class="font-semibold text-lg text-gray-800">Testlar</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-green-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Loyihalar -->
            <div onclick="showTab('projects')" id="projectsCard" class="group cursor-pointer">
                <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-3">
                        <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-purple-100 transition-colors duration-200">
                            <i class="fas fa-project-diagram text-2xl text-gray-600 group-hover:text-purple-600"></i>
                        </div>
                        <h3 class="font-semibold text-lg text-gray-800">Loyihalar</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-purple-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Natijalar -->
            <div onclick="showTab('results')" id="resultsCard" class="group cursor-pointer">
                <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-3">
                        <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-indigo-100 transition-colors duration-200">
                            <i class="fas fa-chart-bar text-2xl text-gray-600 group-hover:text-indigo-600"></i>
                        </div>
                        <h3 class="font-semibold text-lg text-gray-800">Natijalar</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-indigo-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Davomat -->
            <div onclick="showTab('attendance')" id="attendanceCard" class="group cursor-pointer">
                <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-3">
                        <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-yellow-100 transition-colors duration-200">
                            <i class="fas fa-clipboard-check text-2xl text-gray-600 group-hover:text-yellow-600"></i>
                        </div>
                        <h3 class="font-semibold text-lg text-gray-800">Davomat</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-yellow-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- To'lovlar -->
            <div onclick="showTab('payments')" id="paymentsCard" class="group cursor-pointer">
                <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-3">
                        <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-emerald-100 transition-colors duration-200">
                            <i class="fas fa-money-bill text-2xl text-gray-600 group-hover:text-emerald-600"></i>
                        </div>
                        <h3 class="font-semibold text-lg text-gray-800">To'lovlar</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-emerald-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat -->
            <div onclick="showTab('chat')" id="chatCard" class="group cursor-pointer">
                <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-3">
                        <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-pink-100 transition-colors duration-200">
                            <i class="fas fa-comments text-2xl text-gray-600 group-hover:text-pink-600"></i>
                        </div>
                        <h3 class="font-semibold text-lg text-gray-800">Chat</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-pink-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Haqida -->
            <div onclick="showTab('about')" id="aboutCard" class="group cursor-pointer">
                <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-3">
                        <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-gray-200 transition-colors duration-200">
                            <i class="fas fa-info-circle text-2xl text-gray-600"></i>
                        </div>
                        <h3 class="font-semibold text-lg text-gray-800">Haqida</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-gray-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Referallar -->
            <div onclick="showTab('referrals')" id="referralsCard" class="group cursor-pointer">
                <div class="bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 border border-gray-100">
                    <div class="flex flex-col items-center text-center space-y-3">
                        <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center group-hover:bg-emerald-100 transition-colors duration-200">
                            <i class="fas fa-users text-2xl text-gray-600 group-hover:text-emerald-600"></i>
                        </div>
                        <h3 class="font-semibold text-lg text-gray-800">Referallar</h3>
                        <div class="w-full h-1 bg-gray-100 rounded-full overflow-hidden">
                            <div class="h-full bg-emerald-500 rounded-full transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Area -->
        <div class="animate-fade-in">
            <!-- Students Content -->
            <div id="studentsContent" class="tab-content">
                <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200/50 p-6 lg:p-8">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl lg:text-3xl font-bold text-gray-900">O'quvchilar ro'yxati</h2>
                        <div class="flex items-center space-x-2">
                            <div class="w-3 h-3 bg-green-400 rounded-full animate-bounce-gentle"></div>
                            <span class="text-sm text-gray-600">Jonli ma'lumotlar</span>
                        </div>
                    </div>
                    <div id="studentsList" class="space-y-4">
                        <!-- Students will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Tasks Content -->
            <div id="tasksContent" class="tab-content hidden">
                <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200/50 p-6 lg:p-8">
                    <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4">
                        <h2 class="text-2xl lg:text-3xl font-bold text-gray-900">Vazifalar</h2>
                        <div class="flex flex-wrap gap-3">
                            <button onclick="clearAllTasks()" class="inline-flex items-center px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                <i class="fas fa-trash mr-2"></i>Tozalash
                            </button>
                            <button onclick="showCreateTaskModal()" class="inline-flex items-center px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                <i class="fas fa-plus mr-2"></i>Yangi vazifa
                            </button>
                        </div>
                    </div>
                    <div id="adminTasksList" class="space-y-4">
                        <!-- Tasks will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Tests Content -->
            <div id="testsContent" class="tab-content hidden">
                <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200/50 p-6 lg:p-8">
                    <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4">
                        <h2 class="text-2xl lg:text-3xl font-bold text-gray-900">Testlar</h2>
                        <div class="flex flex-wrap gap-3">
                            <button onclick="clearAllTests()" class="inline-flex items-center px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                <i class="fas fa-trash mr-2"></i>Tozalash
                            </button>
                            <button onclick="showCreateTestModal()" class="inline-flex items-center px-6 py-2 bg-green-500 hover:bg-green-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                <i class="fas fa-plus mr-2"></i>Yangi test
                            </button>
                        </div>
                    </div>
                    <div id="adminTestsList" class="space-y-4">
                        <!-- Tests will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Projects Content -->
            <div id="projectsContent" class="tab-content hidden">
                <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200/50 p-6 lg:p-8">
                    <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4">
                        <h2 class="text-2xl lg:text-3xl font-bold text-gray-900">Loyihalar (Freelancer)</h2>
                        <div class="flex flex-wrap gap-3">
                            <button onclick="clearAllProjects()" class="inline-flex items-center px-4 py-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                <i class="fas fa-trash mr-2"></i>Tozalash
                            </button>
                            <button onclick="showCreateProjectModal()" class="inline-flex items-center px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                <i class="fas fa-plus mr-2"></i>Yangi loyiha
                            </button>
                        </div>
                    </div>
                    <div id="adminProjectsList" class="space-y-4">
                        <!-- Projects will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Results Content -->
            <div id="resultsContent" class="tab-content hidden">
                <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200/50 p-6 lg:p-8">
                    <h2 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-6">Natijalar va Statistika</h2>
                    <div class="grid grid-cols-1 xl:grid-cols-2 gap-8">
                        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100">
                            <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-trophy text-yellow-500 mr-3"></i>
                                Reyting Jadvali
                            </h3>
                            <div id="adminLeaderboard" class="space-y-3">
                                <!-- Leaderboard will be loaded here -->
                            </div>
                        </div>
                        <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100">
                            <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-chart-line text-green-500 mr-3"></i>
                                So'nggi Test Natijalari
                            </h3>
                            <div id="testResults" class="space-y-3">
                                <!-- Test results will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Attendance Content -->
            <div id="attendanceContent" class="tab-content hidden">
                <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200/50 p-6 lg:p-8">
                    <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4">
                        <h2 class="text-2xl lg:text-3xl font-bold text-gray-900">Davomat Nazorati</h2>
                        <div class="flex flex-wrap items-center gap-4">
                            <input type="date" id="selectedDate" class="px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <button onclick="markAttendanceForAll()" class="inline-flex items-center px-4 py-2 bg-green-500 hover:bg-green-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                Barcha o'quvchilarni belgilash
                            </button>
                            <button onclick="showAttendanceConfirmModal()" class="inline-flex items-center px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                                Davomatni tasdiqlash
                            </button>
                        </div>
                    </div>
                    <div id="attendanceList" class="space-y-4">
                        <!-- Attendance will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Payments Content -->
            <div id="paymentsContent" class="tab-content hidden">
                <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200/50 p-6 lg:p-8">
                    <h2 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-6">To'lovlar va Hamyon</h2>
                    <div class="grid grid-cols-1 xl:grid-cols-2 gap-8">
                        <div class="bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-6 border border-yellow-100">
                            <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-hand-holding-usd text-yellow-500 mr-3"></i>
                                Pul yechish so'rovlari
                            </h3>
                            <div id="withdrawalRequests" class="space-y-4">
                                <!-- Withdrawal requests will be loaded here -->
                            </div>
                        </div>
                        <div class="bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100">
                            <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-history text-purple-500 mr-3"></i>
                                To'lov tarixi
                            </h3>
                            <div id="paymentHistory" class="space-y-3 max-h-96 overflow-y-auto">
                                <!-- Payment history will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Content -->
            <div id="chatContent" class="tab-content hidden">
                <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200/50 p-6 lg:p-8">
                    <h2 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-6 flex items-center">
                        <i class="fas fa-comments text-blue-500 mr-3"></i>
                        Chat
                    </h2>
                    <div class="bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl p-4 h-96 overflow-y-auto mb-6 border border-gray-100" id="chatMessages">
                        <!-- Chat messages will be loaded here -->
                    </div>
                    <div class="flex space-x-3">
                        <input type="text" id="chatInput" class="flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Xabar yozing...">
                        <input type="file" id="imageInput" accept="image/*" class="hidden">
                        <button onclick="document.getElementById('imageInput').click()" class="px-4 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                            <i class="fas fa-image"></i>
                        </button>
                        <button onclick="sendMessage()" class="px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- About Content -->
            <div id="aboutContent" class="tab-content hidden">
                <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200/50 p-6 lg:p-8">
                    <div class="text-center py-12">
                        <div class="max-w-4xl mx-auto">
                            <div class="mb-8">
                                <div class="w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl animate-float">
                                    <i class="fas fa-graduation-cap text-3xl text-white"></i>
                                </div>
                                <h2 class="text-4xl font-bold text-gray-900 mb-4">O'quvchilar Baholash Tizimi</h2>
                                <p class="text-xl text-gray-600 mb-8">
                                    Zamonaviy freelancer va ta'lim tizimi - o'quvchilar uchun vazifa, test va loyihalar
                                </p>
                            </div>
                            
                            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 mb-8 border border-blue-100">
                                <h3 class="text-2xl font-semibold text-gray-900 mb-3">Yaratuvchi</h3>
                                <p class="text-2xl font-medium text-blue-600 mb-2">Shoimov Shuxrat</p>
                                <p class="text-gray-600">Professional dasturchi va ta'lim sohasidagi innovator</p>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
    <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
        <div class="w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-tasks text-2xl text-blue-600"></i>
        </div>
        <h4 class="font-semibold text-gray-900 mb-2">Vazifalar tizimi</h4>
        <p class="text-gray-600 mb-3">O'quvchilarga vazifalar berish va baholash</p>
        <div class="text-sm text-gray-500 space-y-1">
            <p>• Uyga vazifa: maksimal <span class="font-semibold text-blue-600">100 coin</span></p>
            <p>• Vazifa jarima: <span class="font-semibold text-red-600">20 coin</span></p>
        </div>
    </div>
    <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
        <div class="w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-clipboard-check text-2xl text-green-600"></i>
        </div>
        <h4 class="font-semibold text-gray-900 mb-2">Davomat tizimi</h4>
        <p class="text-gray-600 mb-3">Avtomatik davomat nazorati va jarimalar</p>
        <div class="text-sm text-gray-500 space-y-1">
            <p>• Darsga kirmasa: <span class="font-semibold text-red-600">500 coin</span> jarima</p>
            <p>• Kech kirsa: <span class="font-semibold text-orange-600">100 coin</span> jarima</p>
        </div>
    </div>
    <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
        <div class="w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-project-diagram text-2xl text-purple-600"></i>
        </div>
        <h4 class="font-semibold text-gray-900 mb-2">Freelancer tizim</h4>
        <p class="text-gray-600 mb-3">Loyihalar orqali daromad topish</p>
        <div class="text-sm text-gray-500 space-y-1">
            <p>• Loyiha: maksimal <span class="font-semibold text-purple-600">10,000 coin</span></p>
        </div>
    </div>
    <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300">
        <div class="w-16 h-16 bg-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-4">
            <i class="fas fa-users text-2xl text-emerald-600"></i>
        </div>
        <h4 class="font-semibold text-gray-900 mb-2">Referal tizim</h4>
        <p class="text-gray-600 mb-3">Yangi o'quvchi taklif qilish orqali coin yutish</p>
        <div class="text-sm text-gray-500 space-y-1">
            <p>• Yangi o'quvchi: <span class="font-semibold text-emerald-600">20,000 coin</span></p>
        </div>
    </div>
</div>
                            
                            <div class="text-gray-500">
                                <p>Versiya 2.0 | © 2024 Shoimov Shuxrat</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Referrals Content -->
            <div id="referralsContent" class="tab-content hidden">
                <div class="bg-white/80 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200/50 p-6 lg:p-8">
                    <h2 class="text-2xl lg:text-3xl font-bold text-gray-900 mb-6">Referal Boshqaruvi</h2>
                    <div class="grid grid-cols-1 xl:grid-cols-2 gap-8">
                        <div class="bg-gradient-to-br from-emerald-50 to-green-50 rounded-2xl p-6 border border-emerald-100">
                            <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-clock text-emerald-500 mr-3"></i>
                                Kutilayotgan Referallar
                            </h3>
                            <div id="pendingReferrals" class="space-y-4">
                                <!-- Pending referrals will be loaded here -->
                            </div>
                        </div>
                        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100">
                            <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-check-circle text-blue-500 mr-3"></i>
                                Tasdiqlangan Referallar
                            </h3>
                            <div id="approvedReferrals" class="space-y-3 max-h-64 overflow-y-auto">
                                <!-- Approved referrals will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <!-- Create Task Modal -->
    <div id="createTaskModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl">
            <div class="sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-3xl">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-900">Yangi Vazifa Yaratish</h3>
                    <button onclick="closeCreateTaskModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <form id="createTaskForm" class="p-6 space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Vazifa nomi</label>
                    <input type="text" id="taskTitle" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Vazifa tavsifi</label>
                    <textarea id="taskDescription" class="w-full px-4 py-3 border border-gray-300 rounded-xl h-24 focus:ring-2 focus:ring-blue-500 focus:border-transparent" required></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Muddat (kun)</label>
                    <input type="number" id="taskDeadline" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" min="1" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">O'quvchilarni tanlang</label>
                    <div id="studentCheckboxes" class="max-h-32 overflow-y-auto border border-gray-300 rounded-xl p-3"></div>
                </div>
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" onclick="closeCreateTaskModal()" class="px-6 py-3 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors">Bekor qilish</button>
                    <button type="submit" class="px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">Yaratish</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Create Test Modal -->
    <div id="createTestModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl">
            <div class="sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-3xl">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-900">Yangi Test Yaratish</h3>
                    <button onclick="closeCreateTestModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <form id="createTestForm" class="p-6 space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Test nomi</label>
                    <input type="text" id="testTitle" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Test tavsifi</label>
                    <textarea id="testDescription" class="w-full px-4 py-3 border border-gray-300 rounded-xl h-20 focus:ring-2 focus:ring-green-500 focus:border-transparent" required></textarea>
                </div>
                <div>
                    <div class="flex justify-between items-center mb-4">
                        <label class="block text-sm font-medium text-gray-700">Savollar</label>
                        <button type="button" onclick="addQuestion()" class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">
                            <i class="fas fa-plus mr-2"></i>Savol qo'shish
                        </button>
                    </div>
                    <div id="questionsContainer" class="space-y-4"></div>
                </div>
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" onclick="closeCreateTestModal()" class="px-6 py-3 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors">Bekor qilish</button>
                    <button type="submit" class="px-6 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">Yaratish</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Create Project Modal -->
    <div id="createProjectModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl">
            <div class="sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-3xl">
                <div class="flex justify-between items-center">
                    <h3 class="text-xl font-bold text-gray-900">Yangi Loyiha Yaratish</h3>
                    <button onclick="closeCreateProjectModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <form id="createProjectForm" class="p-6 space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Loyiha nomi</label>
                    <input type="text" id="projectTitle" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Loyiha tavsifi</label>
                    <textarea id="projectDescription" class="w-full px-4 py-3 border border-gray-300 rounded-xl h-24 focus:ring-2 focus:ring-purple-500 focus:border-transparent" required></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Loyiha linki yoki rasm URL</label>
                    <input type="url" id="projectLink" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Muddat (kun)</label>
                        <input type="number" id="projectDeadline" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent" min="1" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">To'lov miqdori (coin)</label>
                        <input type="number" id="projectPayment" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent" min="100" step="100" required>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">O'quvchilarni tanlang</label>
                    <div id="projectStudentCheckboxes" class="max-h-32 overflow-y-auto border border-gray-300 rounded-xl p-3"></div>
                </div>
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" onclick="closeCreateProjectModal()" class="px-6 py-3 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors">Bekor qilish</button>
                    <button type="submit" class="px-6 py-3 bg-purple-500 hover:bg-purple-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">Yaratish</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Attendance Confirmation Modal -->
    <div id="attendanceConfirmModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl w-full max-w-md shadow-2xl">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-gray-900">Davomatni tasdiqlash</h3>
                    <button onclick="closeAttendanceConfirmModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="space-y-4">
                    <p class="text-gray-700">Admin parolini kiriting:</p>
                    <input type="password" id="attendancePassword" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Admin paroli">
                    <div class="flex justify-end space-x-3">
                        <button onclick="closeAttendanceConfirmModal()" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors">Bekor qilish</button>
                        <button onclick="confirmAttendance()" class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">Tasdiqlash</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Withdrawal Confirmation Modal -->
    <div id="withdrawalConfirmModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-3xl w-full max-w-md shadow-2xl">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-gray-900">Pul yechishni tasdiqlash</h3>
                    <button onclick="closeWithdrawalConfirmModal()" class="text-gray-400 hover:text-gray-600 transition-colors">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="space-y-4">
                    <div id="withdrawalDetails" class="bg-gray-50 p-4 rounded-xl"></div>
                    <p class="text-gray-700">Admin parolini kiriting:</p>
                    <input type="password" id="withdrawalConfirmPassword" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Admin paroli">
                    <div class="flex justify-end space-x-3">
                        <button onclick="closeWithdrawalConfirmModal()" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors">Bekor qilish</button>
                        <button onclick="confirmWithdrawal()" class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">Tasdiqlash</button>
                        <button onclick="rejectWithdrawal()" class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105">Rad etish</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include existing JavaScript -->
    <script type="module" src="js/admin-dashboard.js"></script>
    
    <script>
        // Enhanced tab switching with animations
        function showTab(tabName) {
            // Hide all content with fade out
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });

            // Reset all cards
            document.querySelectorAll('[id$="Card"]').forEach(card => {
                const cardDiv = card.querySelector('div');
                cardDiv.className = 'bg-white rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1 border border-gray-100';
                
                const icon = card.querySelector('i');
                icon.classList.remove('text-white');
                icon.classList.add('text-gray-600');
                
                const iconBg = card.querySelector('.w-12');
                iconBg.classList.remove('bg-white/20', 'bg-white/30');
                iconBg.classList.add('bg-gray-100');
                
                const title = card.querySelector('h3');
                title.classList.remove('text-white');
                title.classList.add('text-gray-800');
                
                const progressBar = card.querySelector('.w-full .h-full');
                progressBar.classList.remove('scale-x-100');
                progressBar.classList.add('scale-x-0');
            });

            // Activate selected card
            const activeCard = document.getElementById(tabName + 'Card');
            if (activeCard) {
                const cardDiv = activeCard.querySelector('div');
                cardDiv.className = 'bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-1';
                
                const icon = activeCard.querySelector('i');
                icon.classList.remove('text-gray-600');
                icon.classList.add('text-white');
                
                const iconBg = activeCard.querySelector('.w-12');
                iconBg.classList.remove('bg-gray-100');
                iconBg.classList.add('bg-white/20');
                
                const title = activeCard.querySelector('h3');
                title.classList.remove('text-gray-800');
                title.classList.add('text-white');
                
                const progressBar = activeCard.querySelector('.w-full .h-full');
                progressBar.classList.remove('scale-x-0');
                progressBar.classList.add('scale-x-100');
            }

            // Show selected content with fade in
            const content = document.getElementById(tabName + 'Content');
            if (content) {
                setTimeout(() => {
                    content.classList.remove('hidden');
                    content.classList.add('animate-fade-in');
                }, 100);
            }
        }

        // Initialize with students tab
        document.addEventListener('DOMContentLoaded', () => {
            showTab('students');
        });

        // Add smooth scrolling for better UX
        document.documentElement.style.scrollBehavior = 'smooth';

        // Add loading states for better UX
        function showLoading(elementId) {
            const element = document.getElementById(elementId);
            if (element) {
                element.innerHTML = `
                    <div class="flex items-center justify-center py-8">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div>
                        <span class="ml-3 text-gray-600">Yuklanmoqda...</span>
                    </div>
                `;
            }
        }

        // Enhanced error handling
        function showError(elementId, message) {
            const element = document.getElementById(elementId);
            if (element) {
                element.innerHTML = `
                    <div class="text-center py-8">
                        <div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-exclamation-triangle text-red-500 text-2xl"></i>
                        </div>
                        <p class="text-red-600 font-medium">${message}</p>
                        <button onclick="location.reload()" class="mt-4 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors">
                            Qayta yuklash
                        </button>
                    </div>
                `;
            }
        }

        // Add notification system
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-xl shadow-lg transform transition-all duration-300 translate-x-full`;
            
            if (type === 'success') {
                notification.classList.add('bg-green-500', 'text-white');
                notification.innerHTML = `<i class="fas fa-check-circle mr-2"></i>${message}`;
            } else if (type === 'error') {
                notification.classList.add('bg-red-500', 'text-white');
                notification.innerHTML = `<i class="fas fa-exclamation-circle mr-2"></i>${message}`;
            } else if (type === 'warning') {
                notification.classList.add('bg-yellow-500', 'text-white');
                notification.innerHTML = `<i class="fas fa-exclamation-triangle mr-2"></i>${message}`;
            }
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Make functions global
        window.showTab = showTab;
        window.showLoading = showLoading;
        window.showError = showError;
        window.showNotification = showNotification;
    </script>
</body>
</html>
